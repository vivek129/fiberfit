<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Products - Fiber Fit Aata | Premium Organic Millets</title>
    <meta name="description" content="Shop our complete collection of premium organic millets. From ragi flour to foxtail millet grains, find the perfect millet for your healthy lifestyle.">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;600;700&family=Inter:wght@300;400;500;600;700&family=Kalam:wght@300;400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'warm-cream': '#F7F3E9',
                        'rich-brown': '#8B4513',
                        'golden-wheat': '#D4A574',
                        'deep-earth': '#5D4037',
                        'soft-sage': '#A8B5A0',
                        'warm-sand': '#E6D7C3',
                        'muted-copper': '#B87333',
                        'cream-white': '#FEFCF8'
                    },
                    fontFamily: {
                        'handwritten': ['Caveat', 'Kalam', 'cursive'],
                        'body': ['Inter', 'Source Sans Pro', 'sans-serif']
                    }
                }
            }
        }
    </script>

    <!-- Core Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://unpkg.com/splitting@1.0.6/dist/splitting.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/splitting@1.0.6/dist/splitting.css">

    <style>
        .grain-texture {
            background-image:
                radial-gradient(circle at 25% 25%, rgba(139, 69, 19, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(212, 165, 116, 0.1) 0%, transparent 50%);
        }

        .animate-in {
            animation: slideInUp 0.6s ease-out forwards;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hover-lift {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .hover-lift:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(139, 69, 19, 0.15);
        }

        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .cart-count {
            background: #D4A574;
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            top: -8px;
            right: -8px;
        }

        .filter-sidebar {
            background: linear-gradient(135deg, rgba(247, 243, 233, 0.9) 0%, rgba(254, 252, 248, 0.9) 100%);
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        @media (max-width: 768px) {
            .product-grid {
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 1rem;
            }
        }

        /* -------------------------
           4:5 Image wrapper + styles
           ------------------------- */
        .img-4-5 {
            width: 100%;
            aspect-ratio: 4 / 5;           /* enforces 4:5 */
            overflow: hidden;
            display: block;
            border-radius: 0.5rem;         /* rounded corners to match card */
            background-color: #FEFCF8;     /* fallback bg while loading */
        }
        .img-4-5 img {
            width: 100%;
            height: 100%;
            object-fit: cover;             /* crop without distortion */
            object-position: center;
            display: block;
        }
        /* Fallback for browsers without aspect-ratio support */
        .img-4-5.fallback {
            position: relative;
            padding-bottom: calc(100% * 5 / 4); /* height = width * 5/4 */
        }
        .img-4-5.fallback img {
            position: absolute;
            top: 0; left: 0;
            width: 100%;
            height: 100%;
        }

        /* Modal image sizing ‚Äî keep same visual ratio and center */
        .product-modal .img-4-5 {
            max-width: 420px;              /* control max modal image width */
            margin: 0 auto;
        }

        /* product card visual tweaks */
        .product-card {
            background: white;
            border-radius: 0.75rem;
            overflow: hidden;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .product-card:hover {
            transform: translateY(-6px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }
        .product-card .card-body { padding: 1rem; }

        /* Modal base */
        #product-modal {
            z-index: 60;
        }
        /* small responsive tweak for modal layout */
        @media (max-width: 768px) {
            .product-modal .img-4-5 { max-width: 100%; }
        }
    </style>
</head>
<body class="bg-warm-cream text-rich-brown font-body">
    <!-- Navigation -->
    <nav class="bg-cream-white shadow-md sticky top-0 z-40">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="index.html" class="text-2xl font-handwritten font-bold text-rich-brown">
                        <img src="assets/images/logo.png" class="img img-responsive" style="max-height: 60px;"/>
                    </a>
                </div>

                <!-- Desktop Navigation -->
                <div class="hidden md:flex items-center space-x-8">
                    <a href="index.html" class="text-rich-brown hover:text-golden-wheat transition-colors">Home</a>
                    <a href="story.html" class="text-rich-brown hover:text-golden-wheat transition-colors">Our Story</a>
                    <a href="why-millets.html" class="text-rich-brown hover:text-golden-wheat transition-colors">Why Millets</a>
                    <a href="products.html" class="text-rich-brown hover:text-golden-wheat transition-colors font-medium">Products</a>
                    <a href="recipes.html" class="text-rich-brown hover:text-golden-wheat transition-colors">Recipes</a>
                    <a href="blog.html" class="text-rich-brown hover:text-golden-wheat transition-colors">Blog</a>
                    <a href="contact.html" class="text-rich-brown hover:text-golden-wheat transition-colors">Contact</a>

                    <!-- Cart Icon -->
                    <div class="relative">
                        <button id="cart-toggle" class="flex items-center space-x-1 text-rich-brown hover:text-golden-wheat transition-colors">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M7 13l-1.5 6m0 0h9m-9 0V19a2 2 0 002 2h7a2 2 0 002-2v-4"></path>
                            </svg>
                            <span class="cart-count hidden">0</span>
                        </button>
                    </div>
                </div>

                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-rich-brown">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden bg-cream-white border-t">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="index.html" class="block px-3 py-2 text-rich-brown hover:bg-warm-sand rounded">Home</a>
                <a href="story.html" class="block px-3 py-2 text-rich-brown hover:bg-warm-sand rounded">Our Story</a>
                <a href="why-millets.html" class="block px-3 py-2 text-rich-brown hover:bg-warm-sand rounded">Why Millets</a>
                <a href="products.html" class="block px-3 py-2 text-rich-brown hover:bg-warm-sand rounded font-medium">Products</a>
                <a href="recipes.html" class="block px-3 py-2 text-rich-brown hover:bg-warm-sand rounded">Recipes</a>
                <a href="blog.html" class="block px-3 py-2 text-rich-brown hover:bg-warm-sand rounded">Blog</a>
                <a href="contact.html" class="block px-3 py-2 text-rich-brown hover:bg-warm-sand rounded">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="py-16 bg-cream-white grain-texture">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
                <h1 class="text-4xl md:text-5xl font-handwritten font-bold text-rich-brown mb-4">Our Millet Collection</h1>
                <p class="text-lg text-deep-earth max-w-3xl mx-auto">
                    Discover our complete range of premium organic millets, carefully sourced from sustainable farms
                    and processed using traditional methods to preserve maximum nutrition and flavor.
                </p>
            </div>
        </div>
    </section>

    <!-- Products Section -->
    <section class="py-16 bg-warm-cream">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col lg:flex-row gap-8">
                <!-- Filters Sidebar -->
                <div class="lg:w-1/4">
                    <div class="filter-sidebar rounded-lg p-6 sticky top-24">
                        <h3 class="text-xl font-bold text-rich-brown mb-6">Filter Products</h3>

                        <!-- Search -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-rich-brown mb-2">Search</label>
                            <input type="text" id="search-input" placeholder="Search products..."
                                   class="w-full px-3 py-2 border border-warm-sand rounded-lg focus:outline-none focus:ring-2 focus:ring-golden-wheat">
                        </div>

                        <!-- Category Filter -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-rich-brown mb-2">Category</label>
                            <select id="category-filter" class="w-full px-3 py-2 border border-warm-sand rounded-lg focus:outline-none focus:ring-2 focus:ring-golden-wheat">
                                <option value="all">All Categories</option>
                                <option value="flour">Flours</option>
                                <option value="grain">Whole Grains</option>
                                <option value="seed">Seeds</option>
                            </select>
                        </div>

                        <!-- Health Benefits Filter -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-rich-brown mb-2">Health Benefits</label>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="checkbox" class="text-golden-wheat focus:ring-golden-wheat rounded">
                                    <span class="ml-2 text-sm text-deep-earth">Gluten-Free</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="text-golden-wheat focus:ring-golden-wheat rounded">
                                    <span class="ml-2 text-sm text-deep-earth">High Calcium</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="text-golden-wheat focus:ring-golden-wheat rounded">
                                    <span class="ml-2 text-sm text-deep-earth">Diabetic Friendly</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" class="text-golden-wheat focus:ring-golden-wheat rounded">
                                    <span class="ml-2 text-sm text-deep-earth">High Protein</span>
                                </label>
                            </div>
                        </div>

                        <!-- Price Range -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium text-rich-brown mb-2">Price Range</label>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="price" value="all" class="text-golden-wheat focus:ring-golden-wheat" checked>
                                    <span class="ml-2 text-sm text-deep-earth">All Prices</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="price" value="0-100" class="text-golden-wheat focus:ring-golden-wheat">
                                    <span class="ml-2 text-sm text-deep-earth">Under ‚Çπ100</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="price" value="100-150" class="text-golden-wheat focus:ring-golden-wheat">
                                    <span class="ml-2 text-sm text-deep-earth">‚Çπ100 - ‚Çπ150</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="price" value="150+" class="text-golden-wheat focus:ring-golden-wheat">
                                    <span class="ml-2 text-sm text-deep-earth">Above ‚Çπ150</span>
                                </label>
                            </div>
                        </div>

                        <!-- Clear Filters -->
                        <button onclick="clearFilters()" class="w-full bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors duration-300">
                            Clear All Filters
                        </button>
                    </div>
                </div>

                <!-- Products Grid -->
                <div class="lg:w-3/4">
                    <!-- Sort and View Options -->
                    <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4">
                        <div class="flex items-center space-x-4">
                            <span class="text-sm text-deep-earth">Sort by:</span>
                            <select class="px-3 py-2 border border-warm-sand rounded-lg focus:outline-none focus:ring-2 focus:ring-golden-wheat">
                                <option value="featured">Featured</option>
                                <option value="price-low">Price: Low to High</option>
                                <option value="price-high">Price: High to Low</option>
                                <option value="rating">Rating</option>
                                <option value="name">Name A-Z</option>
                            </select>
                        </div>

                        <div class="flex items-center space-x-2">
                            <span class="text-sm text-deep-earth">View:</span>
                            <button class="p-2 border border-warm-sand rounded hover:bg-golden-wheat hover:text-cream-white transition-colors">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path>
                                </svg>
                            </button>
                            <button class="p-2 border border-warm-sand rounded hover:bg-golden-wheat hover:text-cream-white transition-colors">
                                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z" clip-rule="evenodd"></path>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Results Count -->
                    <div class="mb-6">
                        <p class="text-sm text-deep-earth">
                            Showing <span id="results-count">10</span> products
                        </p>
                    </div>

                    <!-- Products Grid -->
                    <div id="products-grid" class="product-grid">
                        <!-- Products will be populated by JavaScript (your existing JSON -> DOM code) -->
                        <!-- Example of a recommended structure for each product card if you want consistency:
                        <div class="product-card" data-product-json='{"id":1,...}'>
                          <div class="img-4-5"><img src="..." alt="..."/></div>
                          <div class="card-body">
                            <h3 class="product-name">Product Name</h3>
                            <p class="product-desc">Short description</p>
                            <div class="flex items-center justify-between mt-3">
                              <span class="product-price" data-price="120">‚Çπ120</span>
                              <button data-quickview class="text-sm">Quick view</button>
                            </div>
                          </div>
                        </div>
                        -->
                    </div>

                    <!-- Load More Button -->
                    <div class="text-center mt-12">
                        <button class="bg-golden-wheat text-cream-white px-8 py-3 rounded-lg font-semibold hover:bg-muted-copper transition-colors duration-300">
                            Load More Products
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Why Choose Our Millets -->
    <section class="py-16 bg-cream-white grain-texture">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-handwritten font-bold text-rich-brown mb-4">Why Choose Our Millets?</h2>
                <p class="text-lg text-deep-earth max-w-3xl mx-auto">
                    From farm to table, we ensure the highest quality standards and sustainable practices.
                </p>
            </div>

            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                <div class="text-center">
                    <div class="w-16 h-16 bg-golden-wheat rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-cream-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <h3 class="text-lg font-bold text-rich-brown mb-2">Certified Organic</h3>
                    <p class="text-deep-earth text-sm">Third-party certified organic with no synthetic additives</p>
                </div>

                <div class="text-center">
                    <div class="w-16 h-16 bg-golden-wheat rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-cream-white" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"></path>
                        </svg>
                    </div>
                    <h3 class="text-lg font-bold text-rich-brown mb-2">Premium Quality</h3>
                    <p class="text-deep-earth text-sm">Carefully selected grains with consistent quality standards</p>
                </div>

                <div class="text-center">
                    <div class="w-16 h-16 bg-golden-wheat rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-cream-white" fill="currentColor" viewBox="0 0 20 20">
                            <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z" clip-rule="evenodd"></path>
                        </svg>
                    </div>
                    <h3 class="text-lg font-bold text-rich-brown mb-2">Traditional Processing</h3>
                    <p class="text-deep-earth text-sm">Stone-ground and minimally processed for maximum nutrition</p>
                </div>

                <div class="text-center">
                    <div class="w-16 h-16 bg-golden-wheat rounded-full flex items-center justify-center mx-auto mb-4">
                        <svg class="w-8 h-8 text-cream-white" fill="currentColor" viewBox="0 0 20 20">
                            <path d="M8 5a1 1 0 100 2h5.586l-1.293 1.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L13.586 5H8zM12 15a1 1 0 100-2H6.414l1.293-1.293a1 1 0 10-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L6.414 15H12z"></path>
                        </svg>
                    </div>
                    <h3 class="text-lg font-bold text-rich-brown mb-2">Fast Delivery</h3>
                    <p class="text-deep-earth text-sm">Fresh products delivered to your doorstep within 2-3 days</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-rich-brown text-cream-white py-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid md:grid-cols-4 gap-8">
                <div>
                    <h3 class="text-2xl font-handwritten font-bold mb-4">üåæ Fiber Fit Aata</h3>
                    <p class="text-warm-sand mb-4">
                        Bringing ancient wisdom to modern tables through sustainable, organic millets that nourish both body and planet.
                    </p>
                    <div class="flex space-x-4">
                        <!-- social icons -->
                        <a href="https://www.instagram.com/fiber_fit_aata" target="_blank" rel="noopener noreferrer" class="text-warm-sand hover:text-golden-wheat transition-colors text-xl">
                        <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://www.facebook.com/profile.php?id=61582735874490" target="_blank" rel="noopener noreferrer" class="text-warm-sand hover:text-golden-wheat transition-colors text-xl">
                        <i class="fab fa-facebook"></i>
                        </a>
                        <a href="https://youtube.com/@fibrefitaata?si=N50XGPbcqEuoyccm" target="_blank" rel="noopener noreferrer" class="text-warm-sand hover:text-golden-wheat transition-colors text-xl">
                        <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>

                <div>
                    <h4 class="text-lg font-semibold mb-4">Quick Links</h4>
                    <ul class="space-y-2">
                        <li><a href="products.html" class="text-warm-sand hover:text-golden-wheat transition-colors">Products</a></li>
                        <li><a href="recipes.html" class="text-warm-sand hover:text-golden-wheat transition-colors">Recipes</a></li>
                        <li><a href="blog.html" class="text-warm-sand hover:text-golden-wheat transition-colors">Blog</a></li>
                        <li><a href="contact.html" class="text-warm-sand hover:text-golden-wheat transition-colors">Contact</a></li>
                    </ul>
                </div>

                <div>
                    <h4 class="text-lg font-semibold mb-4">Contact Info</h4>
                    <div class="space-y-2 text-warm-sand">
                        <p>üìß hello@fiberfitaata.com</p>
                        <p>üìû +91 98765 43210</p>
                        <p>üìç Hyderabad, Telangana</p>
                        <p>üïí Mon-Sat: 9AM-6PM</p>
                    </div>
                </div>
            </div>

            <div class="border-t border-deep-earth mt-8 pt-8 text-center">
                <p class="text-warm-sand">
                    ¬© 2024 Fiber Fit Aata. All rights reserved. Made with ‚ù§Ô∏è for sustainable living.
                </p>
            </div>
        </div>
    </footer>

    <!-- Cart Sidebar -->
    <div id="cart-sidebar" class="fixed right-0 top-0 h-full w-96 bg-cream-white shadow-xl transform translate-x-full transition-transform duration-300 z-50">
        <div class="p-6 border-b border-warm-sand">
            <div class="flex items-center justify-between">
                <h3 class="text-lg font-semibold text-rich-brown">Shopping Cart</h3>
                <button id="cart-close" class="text-gray-400 hover:text-gray-600">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div class="mt-2">
                <span class="text-sm text-gray-600">Total: </span>
                <span class="cart-total font-semibold text-golden-wheat">‚Çπ0.00</span>
            </div>
        </div>

        <div class="p-6 flex-1 overflow-y-auto">
            <div id="cart-items">
                <!-- Cart items will be populated by JavaScript -->
            </div>
        </div>

        <div class="p-6 border-t border-warm-sand">
            <button class="w-full bg-golden-wheat text-cream-white py-3 px-4 rounded-lg font-semibold hover:bg-muted-copper transition-colors duration-300">
                Proceed to Checkout
            </button>
        </div>
    </div>

    <!-- Product modal (keeps 4:5 ratio) -->
    <div id="product-modal" class="fixed inset-0 z-50 hidden items-center justify-center p-6">
      <div class="absolute inset-0 bg-black/40" id="product-modal-backdrop"></div>
      <div class="relative max-w-4xl w-full bg-cream-white rounded-lg shadow-xl p-6 product-modal">
        <button id="product-modal-close" aria-label="Close product details" class="absolute right-4 top-4 text-rich-brown text-xl">
          ‚úï
        </button>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-start">
          <div>
            <div id="product-modal-image" class="img-4-5">
              <!-- image inserted by JS: <img src="..." alt="..."> -->
            </div>
          </div>

          <div>
            <h2 id="product-modal-name" class="text-2xl font-bold text-rich-brown"></h2>
            <p id="product-modal-desc" class="text-deep-earth mt-3"></p>
            <div class="mt-4">
              <span id="product-modal-price" class="text-xl font-semibold text-golden-wheat"></span>
            </div>

            <div class="mt-6 space-x-3">
              <button id="product-modal-add" class="bg-golden-wheat text-cream-white px-4 py-2 rounded-lg">Add to cart</button>
              <button id="product-modal-visit" class="px-4 py-2 border rounded-lg">View product page</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main JavaScript (your existing renderer) -->
    <script src="main.js"></script>

    <!-- Non-invasive helper: wraps images into .img-4-5, attaches delegated quick-view/modal handlers -->
    <script>
    /*
      This helper is intentionally defensive:
      - It doesn't change how you render products from JSON.
      - After your renderer inserts product cards into #products-grid, it will:
        1) wrap <img> with .img-4-5 (if not already)
        2) attach delegated click handlers to open the modal
      - Use data-product-json on each card when possible for best results.
    */
    (function () {
      const productsGrid = document.getElementById('products-grid');
      const modal = document.getElementById('product-modal');
      const modalBackdrop = document.getElementById('product-modal-backdrop');
      const modalClose = document.getElementById('product-modal-close');
      const modalImageContainer = document.getElementById('product-modal-image');
      const modalName = document.getElementById('product-modal-name');
      const modalDesc = document.getElementById('product-modal-desc');
      const modalPrice = document.getElementById('product-modal-price');
      const modalAdd = document.getElementById('product-modal-add');
      const modalVisit = document.getElementById('product-modal-visit');

      function normalizeProductImages() {
        if (!productsGrid) return;
        productsGrid.querySelectorAll('img').forEach(img => {
          if (img.closest('.img-4-5')) return;

          if (!img.getAttribute('alt') || img.getAttribute('alt').trim() === '') {
            const name = img.dataset.name || img.getAttribute('title') || 'Product image';
            img.setAttribute('alt', name);
          }

          const wrapper = document.createElement('div');
          wrapper.className = 'img-4-5';
          img.parentNode.insertBefore(wrapper, img);
          wrapper.appendChild(img);
        });
      }

      function openProductModal(productData) {
        modalName.textContent = productData.name || 'Product';
        modalDesc.textContent = productData.description || productData.desc || '';
        modalPrice.textContent = productData.price ? (productData.price_display || productData.price) : '';

        modalVisit.onclick = () => {
          if (productData.url) window.location.href = productData.url;
        };
        modalAdd.onclick = () => {
          if (typeof addToCart === 'function') {
            addToCart(productData.id || productData.sku || productData);
          } else {
            // fallback: if your project uses a different add-to-cart call, replace above accordingly
            console.warn('addToCart function not found; product id:', productData.id);
          }
        };

        // image
        modalImageContainer.innerHTML = '';
        const img = document.createElement('img');
        img.src = productData.image || productData.img || productData.image_url || '';
        img.alt = productData.name || 'Product image';
        img.loading = 'lazy';
        modalImageContainer.appendChild(img);

        // show modal
        modal.classList.remove('hidden');
        modal.classList.add('flex');
        document.body.style.overflow = 'hidden';
      }

      function closeModal() {
        modal.classList.add('hidden');
        modal.classList.remove('flex');
        document.body.style.overflow = '';
      }

      function attachDelegatedHandlers() {
        if (!productsGrid) return;
        productsGrid.addEventListener('click', (e) => {
          const target = e.target;
          const card = target.closest('[data-product-json]') || target.closest('[data-product-id]') || target.closest('.product-card');
          if (!card) return;

          if (target.closest('[data-quickview]') || target.closest('.img-4-5') || target.matches('img')) {
            let data = null;
            try {
              if (card.dataset.productJson) {
                data = JSON.parse(card.dataset.productJson);
              } else if (card.dataset.product) {
                data = JSON.parse(card.dataset.product);
              } else {
                data = {
                  id: card.dataset.productId || card.dataset.id,
                  name: card.querySelector('.product-name')?.textContent?.trim(),
                  description: card.querySelector('.product-desc')?.textContent?.trim(),
                  price: card.querySelector('.product-price')?.dataset?.price || card.querySelector('.product-price')?.textContent?.trim(),
                  image: card.querySelector('img')?.getAttribute('src'),
                  url: card.querySelector('a.product-link')?.href
                };
              }
            } catch (err) {
              console.warn('Failed to read product data for modal:', err);
              data = { name: 'Product', image: card.querySelector('img')?.src || '' };
            }
            openProductModal(data);
          }
        });
      }

      if (modalBackdrop) modalBackdrop.addEventListener('click', closeModal);
      if (modalClose) modalClose.addEventListener('click', closeModal);
      document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });

      // Expose initializer so you can call after dynamic loads
      window.productImageUtilities = {
        normalizeProductImages,
        attachDelegatedHandlers,
        openProductModal,
        closeModal
      };

      // Try to auto-run shortly after DOM ready (non-invasive)
      document.addEventListener('DOMContentLoaded', () => {
        setTimeout(() => {
          normalizeProductImages();
          attachDelegatedHandlers();
        }, 50);
      });
    })();
    </script>

    <script>
        // Additional functions for products page
        function clearFilters() {
            document.getElementById('search-input').value = '';
            document.getElementById('category-filter').value = 'all';

            // Uncheck all checkboxes
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
            document.querySelectorAll('input[name="price"]').forEach(rb => rb.checked = false);
            document.querySelector('input[name="price"][value="all"]').checked = true;

            // Apply filters (if your code has applyFilters function)
            if (typeof applyFilters === 'function') {
              applyFilters();
            }
        }

        // Make clearFilters globally available
        window.clearFilters = clearFilters;
    </script>
</body>
</html>
